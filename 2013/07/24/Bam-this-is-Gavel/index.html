<!doctype html>
<html prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">

  <title>Bam! This is Gavel.&mdash;Apiary Blog</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0">
  <meta name="author" content="Apiary">
  <link rel="alternate" type="application/rss+xml" title="The Apiary Blog Feed" href="http://blog.apiary.io/feed.xml" />

  <meta name="application-name" content="Apiary">
  <meta name="twitter:card" content="summary">
  <meta property="og:type"  content="article">
  <meta name="twitter:site" content="@apiaryio">
  <meta name="twitter:creator" content="@apiaryio">

  <meta name="twitter:title" content="Bam! This is Gavel.&mdash;Apiary Blog">
  <meta property="og:title" content="Bam! This is Gavel.&mdash;Apiary Blog">

  
    <meta property="og:url" content="http://blog.apiary.io/2013/07/24/Bam-this-is-Gavel">
    <meta name="description" content="We are introducing our brand new HTTP validation package.&mdash;Apiary Blog">
    <meta name="twitter:description" content="We are introducing our brand new HTTP validation package.&mdash;Apiary Blog">
    <meta property="og:description" content="We are introducing our brand new HTTP validation package.&mdash;Apiary Blog">
  

  <link rel="shortcut icon" href="/favicon.ico">

  <!-- Styles -->
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/fonts.css">
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/modules/footer/footer.css">
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/modules/website.css">
  <link rel="stylesheet" href="/syntax.css">
  <!-- /Styles -->

  <script>
 var _gaq = [['_setAccount', 'UA-18252923-1'], ['_trackPageview']];
 (function(d, t) {
  var g = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  g.async = true;
  g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g, s);
 })(document, 'script');
</script>


</head>
<body class="website">

<!-- website-header -->
  <header id="websiteHeader"><div class="positioning">
    <a class="headerLogotypeLink" href="http://apiary.io/"><h1 class="visuallyhidden" title="Apiary Ltd.">Apiary</h1><div class="headerLogotype"></div></a>
    <a class="to_nav" href="#navigation"><span class="visuallyhidden">Go to Navigation</span></a>
  </div></header>
<!-- /website-header -->

<!-- website-navigation -->
  <div id="navigation">
    <nav class="websiteNav positioning">
      <ul class="clearAfter websiteNavMenu">
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/how-it-works">How It Works</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/pricing">Pricing</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/products">Product</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="http://blog.apiary.io/">Blog</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/company">Company</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://login.apiary.io/login">Sign In</a></li>
        
      </ul>
      <a class="websiteNavLink websiteNavLinkHighlighted" href="https://login.apiary.io/register" class="signIn">Sign Up</a>
      <a class="websiteNavLink backToTop" href="#~"><span class="visuallyhidden">Back to top</span></a>
    </nav>
  </div>
<!-- /website-navigation -->

<div>
  

<div class="blog">
  
  <div class="blogArticle">
    <a href="/" class="backToArticles">Back to Articles</a>
    <h1>Bam! This is Gavel.</h1>
    
      <p><span class="minority">By</span> <strong>netmilk</strong>
        (<a href="https://twitter.com/ntmlk">ntmlk</a>, <a href="mailto:adam@apiary.io">adam@apiary.io</a>) <span class="minority">on</span>&nbsp;24&nbsp;Jul&nbsp;2013
      </p>
      <p><span class="blogShare">
<a href="https://twitter.com/share" class="twitter-share-button" data-text="Bam! This is Gavel." data-url="http://blog.apiary.io/2013/07/24/Bam-this-is-Gavel" data-via="apiaryio"></a>
<span class="g-plusone" data-size="medium" data-count="true"></span>
<span class="fb-share-button" data-send="false" data-href="http://blog.apiary.io/2013/07/24/Bam-this-is-Gavel" data-type="button_count" data-width="1" data-height="20" data-show-faces="false" data-action="share"></span>
</span></p>
    

  <p>I’m very proud to introduce Gavel—our first contribution to the Testing Culture we are so passionate about. We have isolated HTTP validation behavior from our interactive console, created platform independent specification and are shipping it as implementation in Node.JS</p>

<blockquote>
  <p><strong>gavel</strong> /ˈgævəl/ <em>noun</em>
<strong>1</strong> A small mallet used by a presiding officer or an auctioneer to signal for attention or order or to mark the conclusion of a transaction.
<strong>2</strong> A maul used by masons in fitting stones.</p>
</blockquote>

<p>The complexity of <a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP and its specification is incredible</a>, but there are lots of pragmatic conventions in the real world. Gavel is our attempt to <a href="https://www.relishapp.com/apiary/gavel/v/1-0/docs/about">invite you to the open discussion</a> about conventions in the real world of HTTP and ship it as Node.JS library to have a toy to play with right now.</p>

<p>HTTP is platform and language independent by nature. So is Gavel. All of Gavel’s documentation is written in <a href="http://cukes.info/">Cucumber</a>, ready to be implemented in variety of languages supported by Cucumber or its derivates. Documentation is  hosted on <a href="https://www.relishapp.com/">Relish</a>, an awesome, documentation-oriented platform for managing Cucumber features. We love it because it enables the same iterative design process as Apiary and our <a href="http://www.apiblueprint.org">API Blueprint</a>.</p>

<p><img src="https://raw.github.com/apiaryio/gavel/master/img/gavel.png" alt="Gavel logo" /></p>

<h2 id="using-gavel">Using Gavel</h2>

<p>Gavel comes with CLI interface so the first version is very minimalistic:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ npm install -g gavel curl-trace-parser
$ curl --trace - http://httpbin.org/ip | curl-trace-parser  &gt; expected
$ curl --trace - http://httpbin.org/ip | curl-trace-parser  &gt; real
$ cat real | gavel expected
$ echo $?
0
</code></pre>
</div>

<p>Let’s see what happens if CORS headers are missing in the response</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat real | grep -v 'Access-Control-Allow-Origin' &gt; real_without_cors
$ cat real_without_cors | gavel expected
$ echo $?
1 
</code></pre>
</div>

<p>If you are a Node.js ninja, you can enjoy using the <a href="https://github.com/apiaryio/gavel.js">Gavel JS API</a></p>

<p>Gavel’s first version is very thin. It comes only with a boolean interface which decides if a pair of HTTP Requests or Responses are valid against themselves or are not. We’d like to make this a starting point of a discussion about <a href="https://www.relishapp.com/apiary/gavel/v/1-0/docs/expectations/headers">headers validation</a> and output format for <a href="https://www.relishapp.com/apiary/gavel/v/1-0/docs/validation-errors">validation errors</a>. Feel free to submit an <a href="https://github.com/apiaryio/gavel/issues">GitHub issue</a> and tell us what you want. We’ll be even more excited if you contribute. </p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://github.com/apiaryio/gavel.js">Gavel Node.JS library</a></li>
  <li><a href="https://www.relishapp.com/apiary/gavel/docs">Gavel specification and documentation</a></li>
  <li><a href="https://github.com/apiaryio/gavel">Gavel specification GitHub repo</a></li>
</ul>


  <p><span class="blogShare afterArticle">
<a href="https://twitter.com/share" class="twitter-share-button" data-text="Bam! This is Gavel." data-url="http://blog.apiary.io/2013/07/24/Bam-this-is-Gavel" data-via="apiaryio"></a>
<span class="g-plusone" data-size="medium" data-count="true"></span>
<span class="fb-share-button" data-send="false" data-href="http://blog.apiary.io/2013/07/24/Bam-this-is-Gavel" data-type="button_count" data-width="1" data-height="20" data-show-faces="false" data-action="share"></span>
</span></p>



  </div>
</div>

<div id="fb-root"></div>

<script>
(function(doc, script) {
  var js,
      fjs = doc.getElementsByTagName(script)[0],
      frag = doc.createDocumentFragment(),
      add = function(url, id) {
          if (doc.getElementById(id)) {return;}
          js = doc.createElement(script);
          js.src = url;
          id && (js.id = id);
          frag.appendChild( js );
      };

    // Google+ button
    add('http://apis.google.com/js/plusone.js');
    // Facebook SDK
    add('//connect.facebook.net/en_US/all.js#xfbml=1', 'facebook-jssdk');
    // Twitter SDK
    add('//platform.twitter.com/widgets.js', 'twitter-wjs');

    fjs.parentNode.insertBefore(frag, fjs);
}(document, 'script'));
</script>

</div>

<!-- website-footer -->
  <hr>

<footer class="applicationFooter">

  <div class="applicationFooterRow">
    <div class="applicationFooterColumns">
    <div class="applicationFooterColumn">
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Platform</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiary.io/how-it-works">How It Works</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/products">Product</a></li>
        <li><a class="applicationFooterListLink" href="http://enterprise.apiary.io/">Enterprise</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/pricing">Pricing</a></li>
        <li><a class="applicationFooterListLink" href="http://support.apiary.io ">Help</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Company</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://blog.apiary.io/">Blog</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#team">Team</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/jobs">Jobs</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#contact">Contact</a></li>
        <li><a class="applicationFooterListLink" href="https://apiary.a.ssl.fastly.net/assets/files/apiary-press-kit.zip">Press Kit</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Open Source</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiblueprint.org">API Blueprint</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/snowcrash">Snowcrash</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/gavel">Gavel</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/dredd">Dredd</a></li>
        <li><a class="applicationFooterListLink" href="http://client.apiary.io">Apiary CLI</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Social</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio">GitHub</a></li>
        <li><a class="applicationFooterListLink" href="https://twitter.com/apiaryio">Twitter</a></li>
        <li><a class="applicationFooterListLink" href="https://facebook.com/apiary.io">Facebook</a></li>
        <li><a class="applicationFooterListLink" href="https://plus.google.com/114367708466177247933/about">Google+</a></li>
        <li><a class="applicationFooterListLink" href="http://dribbble.com/apiary">Dribbble</a></li>
      </ul>
    </div></div>
  </div>

  <div class="applicationFooterRow">
    <p class="applicationFooterCopyright">&copy; Apiary Ltd. All rights reserved. <span class="applicationFooterCopyrightLinks">• <a href="http://apiary.io/tos" class="applicationFooterCopyrightLink">Terms</a> • <a href="https://www.iubenda.com/privacy-policy/323220" class="applicationFooterCopyrightLink">Privacy</a></span></p>
  </div>
</footer>
<!-- /website-footer -->

<script src="https://apiary.a.ssl.fastly.net/assets/js/website-scroll.js"></script>
<script>
  websiteScroll();
  document.documentElement.className += ' js';
</script>

</body>
</html>
