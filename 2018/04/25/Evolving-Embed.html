<!doctype html>
<html prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">

  <title>Evolving Embed &mdash; Apiary Blog</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0">
  <meta name="author" content="Apiary">
  <link rel="alternate" type="application/rss+xml" title="The Apiary Blog Feed" href="https://blog.apiary.io/feed.xml" />

  <meta name="application-name" content="Apiary">
  <meta name="twitter:card" content="summary">
  <meta property="og:type"  content="article">
  <meta name="twitter:site" content="@apiaryio">
  <meta name="twitter:creator" content="@apiaryio">

  <meta name="twitter:title" content="Evolving Embed &mdash; Apiary Blog">
  <meta name="twitter:image" content="https://blog.apiary.io/images/apiary-logotype-3D-only.png">

  <meta property="og:title" content="Evolving Embed &mdash; Apiary Blog">
  <meta property="og:image" content="https://blog.apiary.io/images/apiary-logotype-3D-only.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  
    <meta property="og:url" content="https://blog.apiary.io/2018/04/25/Evolving-Embed">
    <meta name="description" content="What&#39;s new with our Embed feature &mdash; Apiary Blog">
    <meta name="twitter:description" content="What&#39;s new with our Embed feature &mdash; Apiary Blog">
    <meta property="og:description" content="What&#39;s new with our Embed feature &mdash; Apiary Blog">
  

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="canonical" href="https://blog.apiary.io/2018/04/25/Evolving-Embed">

  <!-- Styles -->
  <link rel="stylesheet" href="https://static.apiary.io/assets/styles/fonts.css">
  <link rel="stylesheet" href="https://static.apiary.io/assets/styles/modules/footer/footer.css">
  <link rel="stylesheet" href="https://static.apiary.io/assets/styles/modules/website.css">
  <link rel="stylesheet" href="/syntax.css">
  <!-- /Styles -->

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18252923-10', 'auto');
  ga('send', 'pageview');
</script>


</head>
<body class="website">

<!-- website-header -->
  <header id="websiteHeader"><div class="positioning">
    <a class="headerLogotypeLink" href="http://apiary.io/"><h1 class="visuallyhidden" title="Apiary Ltd.">Apiary</h1><div class="headerLogotype"></div></a>
    <a class="to_nav" href="#navigation"><span class="visuallyhidden">Go to Navigation</span></a>
  </div></header>
<!-- /website-header -->

<!-- website-navigation -->
  <div id="navigation">
    <nav class="websiteNav positioning">
      <ul class="clearAfter websiteNavMenu">
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/how-it-works">How It Works</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/plans">Plans</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/products">Product</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://help.apiary.io/">Help</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/company">Company</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://login.apiary.io/login">Sign In</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink websiteNavLinkHighlighted signIn" href="https://login.apiary.io/register">Sign Up</a></li>
      </ul>
      <a class="websiteNavLink backToTop" href="javascript:;"><span class="visuallyhidden">Back to top</span></a>
    </nav>
  </div>
<!-- /website-navigation -->

<div>
  <div class="blog">
  
  <div class="blogArticle">
    <a href="/" class="backToArticles">Back to Articles</a>
    <h1>Evolving Embed</h1>
    
      <p><span class="minority">By</span> <strong>char0n</strong>
        (<a href="https://twitter.com/@vladimirgorej">@vladimirgorej</a>, <a href="mailto:vladimir.gorej@oracle.com">vladimir.gorej@oracle.com</a>) <span class="minority">on</span>&nbsp;25&nbsp;Apr&nbsp;2018
      </p>
    

  <p>During the last couple months, we invested considerable amount of resources to fix most of the pending 
bugs on Apiary Embed feature. We’ve also introduced a couple of new features like <strong>multiple Embeds support</strong>,
<strong>event hooks</strong> and ability to <strong>programmatically destroy Embeds</strong>.</p>

<h2 id="what-is-embed-">What is Embed ?</h2>

<p>Embed is a simple JavaScript that you place in an ordinary HTML page. It shows your API Project
hosted on <a href="https://apiary.io/">apiary.io</a> in an <em>IFrame</em> and allows you to customize it with your brand colors.
You can then host this HTML page on your own domain. The end result looks like you are hosting 
your own API Documentation. If you edit your API Project on <a href="https://apiary.io">Apiary</a>, the regenerated
documentation is instantly displayed on your own domain.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://api.apiary.io/seeds/embed.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="kr">const</span> <span class="nx">embed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
        <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'your-api-project-subdomain'</span><span class="p">,</span>
        <span class="na">element</span><span class="p">:</span> <span class="s1">'.container'</span><span class="p">,</span>
        <span class="na">preferences</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">permalinks</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span> <span class="na">style=</span><span class="s">"width:100%; height: 900px"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>For more information about Embed, please visit the <a href="https://help.apiary.io/tools/embed/">Embed reference documentation</a>.</p>

<h2 id="bug-fixes">Bug fixes</h2>

<p>Our bug fixes are mainly concentrated around <a href="https://help.apiary.io/tools/embed/#allow-permalinks-into-the-embed">permalinks</a>
and <a href="https://help.apiary.io/tools/embed/#theming">theming</a>. We went through majority of the 
<a href="https://help.apiary.io/tools/embed/#elements">elements we support</a>, tested them and fixed the non working ones.</p>

<h2 id="new-features">New Features</h2>

<h3 id="multiple-embed-support">Multiple Embed support</h3>

<p>Previous versions of Embed did not support placing more that one Embed in a HTML page.
You can now pace multiple Embed elements in a single HTML page.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://api.apiary.io/seeds/embed.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="kr">const</span> <span class="nx">embed1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
        <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'your-api-project-subdomain'</span><span class="p">,</span>
        <span class="na">element</span><span class="p">:</span> <span class="s1">'.container1'</span><span class="p">,</span>
        <span class="na">preferences</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">permalinks</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">});</span>

     <span class="kr">const</span> <span class="nx">embed2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
        <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'your-api-project-subdomain2'</span><span class="p">,</span>
        <span class="na">element</span><span class="p">:</span> <span class="s1">'.container2'</span><span class="p">,</span>
        <span class="na">preferences</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">permalinks</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container1"</span> <span class="na">style=</span><span class="s">"width:100%; height: 900px"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container2"</span> <span class="na">style=</span><span class="s">"width:100%; height: 900px"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="event-hooks">Event Hooks</h3>

<p>Embed instances provide event hooks. It is now possible for example to implement a loading indicator that will
show a spinning wheel while the documentation is loading.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">embed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
    <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'pollsapi'</span><span class="p">,</span>
    <span class="na">element</span><span class="p">:</span> <span class="s1">'#embedHere'</span>
<span class="p">});</span>

<span class="nx">embed</span><span class="p">.</span><span class="nx">onLoaded</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">iframeElement</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// manage your loading indicator here</span>
<span class="p">});</span>
<span class="nx">embed</span><span class="p">.</span><span class="nx">onReady</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">iframeElement</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// manage your loading indicator here</span>
<span class="p">});</span>
</code></pre>
</div>

<p>Event hooks can also be un-subscribed. Every subscription returns a function. 
When subscribing to an event, a function is returned which can be used to unsubscribe the registered hook handler. By calling the returned function, the event is unsubscribed immediately.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">embed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
  <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'pollsapi'</span><span class="p">,</span>
  <span class="na">element</span><span class="p">:</span> <span class="s1">'#embedHere'</span><span class="p">,</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">unsubscribe1</span> <span class="o">=</span> <span class="nx">embed</span><span class="p">.</span><span class="nx">onReady</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">iframeElement</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// manage your loading indicator here</span>
<span class="p">});</span>
<span class="kr">const</span> <span class="nx">unsubscribe2</span> <span class="o">=</span> <span class="nx">embed</span><span class="p">.</span><span class="nx">onReady</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">iframeElement</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// manage your loading indicator here</span>
<span class="p">});</span>
  
<span class="c1">// un-subscribes subscription(1)</span>
<span class="c1">// subscription(2) is still active</span>
<span class="nx">unsubscribe1</span><span class="p">();</span>
</code></pre>
</div>

<p>For more information about event hooks please refer to our <a href="https://help.apiary.io/tools/embed/#event-hooks">event hook documentation</a>.</p>

<h3 id="destroying-embeds">Destroying embeds</h3>

<p>Embed instances can be destroyed. Destroying restores the <code class="highlighter-rouge">element</code> to the state before Embed was initialized.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"embedHere"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kr">const</span> <span class="nx">embed</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Apiary</span><span class="p">.</span><span class="nx">Embed</span><span class="p">({</span>
    <span class="na">subdomain</span><span class="p">:</span> <span class="s1">'pollsapi'</span><span class="p">,</span>
    <span class="na">element</span><span class="p">:</span> <span class="s1">'#embedHere'</span>
  <span class="p">});</span> 
  
  <span class="c1">// destroy the embed some time later</span>
  <span class="nx">embed</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
</div>



  </div>
</div>


</div>

<!-- website-footer -->
  <hr>

<footer class="applicationFooter">

  <div class="applicationFooterRow">
    <div class="applicationFooterColumns">
    <div class="applicationFooterColumn">
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Platform</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiary.io/how-it-works">How It Works</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/products">Product</a></li>
        <li><a class="applicationFooterListLink" href="http://enterprise.apiary.io/">Enterprise</a></li>
	<li><a class="applicationFooterListLink" href="http://apiary.io/plans">Plans</a></li>
        <li><a class="applicationFooterListLink" href="https://help.apiary.io">Help</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Company</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://blog.apiary.io/">Blog</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#team">Team</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/jobs">Jobs</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#contact">Contact</a></li>
        <li><a class="applicationFooterListLink" href="https://static.apiary.io/assets/files/apiary-press-kit.zip">Press Kit</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Open Source</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiblueprint.org">API Blueprint</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/snowcrash">Snowcrash</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/gavel">Gavel</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/dredd">Dredd</a></li>
        <li><a class="applicationFooterListLink" href="http://client.apiary.io">Apiary CLI</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Social</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio">GitHub</a></li>
        <li><a class="applicationFooterListLink" href="https://twitter.com/apiaryio">Twitter</a></li>
      </ul>
    </div></div>
  </div>

  <div class="applicationFooterRow">
    <p class="applicationFooterCopyright">Copyright &copy; 2017, Oracle and/or its affiliates. All rights reserved. Oracle and Java are registered trademarks of Oracle and/or its affiliates. Other names may be trademarks of their respective owners. <span class="applicationFooterCopyrightLinks"><a href="https://apiary.io/tos" class="applicationFooterCopyrightLink">Terms</a> • <a href="https://apiary.io/privacy" class="applicationFooterCopyrightLink">Privacy</a> • <span id="teconsent"></span></span></p>
  </div>
</footer>
<!-- /website-footer -->

<script src="https://static.apiary.io/assets/js/website-scroll.js"></script>
<script>
  websiteScroll();
  document.documentElement.className += ' js';
</script>
<script src="https://consent.trustarc.com/notice?domain=apiary.io&amp;c=teconsent&amp;text=true&amp;js=nj&amp;noticeType=bb" async="async" crossorigin=""></script>

</body>
</html>
