<!doctype html>
<html prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">

  <title>Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains&mdash;Apiary Blog</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0">
  <meta name="author" content="Apiary">
  <link rel="alternate" type="application/rss+xml" title="The Apiary Blog Feed" href="https://blog.apiary.io/feed.xml" />

  <meta name="application-name" content="Apiary">
  <meta name="twitter:card" content="summary">
  <meta property="og:type"  content="article">
  <meta name="twitter:site" content="@apiaryio">
  <meta name="twitter:creator" content="@apiaryio">

  <meta name="twitter:title" content="Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains&mdash;Apiary Blog">
  <meta property="og:title" content="Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains&mdash;Apiary Blog">

  
    <meta property="og:url" content="https://blog.apiary.io/2014/09/16/Improving-Security">
    <meta name="description" content="Apiary has delivered important new features to increase the security of recorded traffic from Mock and Proxy Servers. We’re deprecating the unsafe Public Traffic option and making some backward-breaking changes, while leaving your API documentation more accessible than ever.&mdash;Apiary Blog">
    <meta name="twitter:description" content="Apiary has delivered important new features to increase the security of recorded traffic from Mock and Proxy Servers. We’re deprecating the unsafe Public Traffic option and making some backward-breaking changes, while leaving your API documentation more accessible than ever.&mdash;Apiary Blog">
    <meta property="og:description" content="Apiary has delivered important new features to increase the security of recorded traffic from Mock and Proxy Servers. We’re deprecating the unsafe Public Traffic option and making some backward-breaking changes, while leaving your API documentation more accessible than ever.&mdash;Apiary Blog">
  

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="canonical" href="https://blog.apiary.io/2014/09/16/Improving-Security">

  <!-- Styles -->
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/fonts.css">
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/modules/footer/footer.css">
  <link rel="stylesheet" href="https://apiary.a.ssl.fastly.net/assets/styles/modules/website.css">
  <link rel="stylesheet" href="/syntax.css">
  <!-- /Styles -->

  <script>
 var _gaq = [['_setAccount', 'UA-18252923-1'], ['_trackPageview']];
 (function(d, t) {
  var g = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  g.async = true;
  g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g, s);
 })(document, 'script');
</script>


</head>
<body class="website">

<!-- website-header -->
  <header id="websiteHeader"><div class="positioning">
    <a class="headerLogotypeLink" href="http://apiary.io/"><h1 class="visuallyhidden" title="Apiary Ltd.">Apiary</h1><div class="headerLogotype"></div></a>
    <a class="to_nav" href="#navigation"><span class="visuallyhidden">Go to Navigation</span></a>
  </div></header>
<!-- /website-header -->

<!-- website-navigation -->
  <div id="navigation">
    <nav class="websiteNav positioning">
      <ul class="clearAfter websiteNavMenu">
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/how-it-works">How It Works</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/pricing">Pricing</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/products">Product</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://help.apiary.io/">Help</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://apiary.io/company">Company</a></li>
        
        <li class="websiteNavItem"><a class="websiteNavLink" href="https://login.apiary.io/login">Sign In</a></li>
        
      </ul>
      <a class="websiteNavLink websiteNavLinkHighlighted" href="https://login.apiary.io/register" class="signIn">Sign Up</a>
      <a class="websiteNavLink backToTop" href="javascript:;"><span class="visuallyhidden">Back to top</span></a>
    </nav>
  </div>
<!-- /website-navigation -->

<div>
  

<div class="blog">
  
  <div class="blogArticle">
    <a href="/" class="backToArticles">Back to Articles</a>
    <h1>Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains</h1>
    
      <p><span class="minority">By</span> <strong>Lukas Linhart</strong>
        (<a href="https://twitter.com/almadcz">almadcz</a>, <a href="mailto:lukas@apiary.io">lukas@apiary.io</a>) <span class="minority">on</span>&nbsp;16&nbsp;Sep&nbsp;2014
      </p>
      <p><span class="blogShare">
<a href="https://twitter.com/share" class="twitter-share-button" data-text="Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains" data-url="https://blog.apiary.io/2014/09/16/Improving-Security" data-via="apiaryio"></a>
<span class="g-plusone" data-size="medium" data-count="true"></span>
<span class="fb-share-button" data-send="false" data-href="https://blog.apiary.io/2014/09/16/Improving-Security" data-type="button_count" data-width="1" data-height="20" data-show-faces="false" data-action="share"></span>
</span></p>
    

  <p>Apiary’s <strong>Mock and Proxy Servers</strong>, in connection with <strong>Traffic Inspector</strong>, are valuable tools in identifying problems with API usage. Up until now, to offer those as part of your API documentation, you had two options – ask your users to create an Apiary account or switch off the <strong>Private Traffic</strong> setting, where no authentication was required for the mock and proxy server URL space.</p>

<h2 id="ease-of-use-vs-security">Ease of Use vs Security</h2>

<p>This was a trade-off: an API would gain greater discoverability, but the details of debugged API calls were left publicly available. If a user’s production token was accidentally used in testing the API, production data could potentially be exposed to anyone viewing the Traffic Inspector.</p>

<h2 id="changes-to-improve-security">Changes to Improve Security</h2>

<p>Earlier this year, we made Private Traffic on by default. However, room was left for human error if a user switched off Private Traffic by accident or without fully understanding it’s working and the ramifications of doing so.</p>

<p>We find risk to production API tokens <strong>unacceptable</strong>. As a result, we have worked hard to rectify this behavior and last week finally removed the need for an Apiary account in order to use Private Traffic. Any Apiary mock/proxy user—<strong>logged in or anonymous</strong>—gets assigned a unique, personal URL when they visit our documentation for the first time.</p>

<p>With such a feature in place, we are now <strong>deprecating the “Public Traffic” option</strong> completely to remove this potential security risk. You are now encouraged to switch to “Private Traffic” immediately in your API settings. Otherwise, we are going to migrate all accounts permanently to “Private Traffic” starting October 1st.</p>

<h2 id="important-url-changes">Important URL changes</h2>

<p>As part of generating unique URLs for each documentation viewer, we’ve had to redesign the related URL space for these. Your documentation users have been receiving the new-style URLs for a while now. However, if your application is relying on/proxying through the <strong>&lt;apiname&gt;.apiary.io</strong> address space, you need to update it now (or preferably remove the dependency altogether) to use our new address space at apiary-mock.com and apiary-proxy.com.</p>

<p>Starting October 1st, the <strong>&lt;apiname&gt;.apiary.io</strong> URL space will be returning a 301 MOVED PERMANENTLY HTTP response.</p>

<p>If you have any questions, you are – as always – welcome to ask them at support@apiary.io.</p>

  <p><span class="blogShare afterArticle">
<a href="https://twitter.com/share" class="twitter-share-button" data-text="Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains" data-url="https://blog.apiary.io/2014/09/16/Improving-Security" data-via="apiaryio"></a>
<span class="g-plusone" data-size="medium" data-count="true"></span>
<span class="fb-share-button" data-send="false" data-href="https://blog.apiary.io/2014/09/16/Improving-Security" data-type="button_count" data-width="1" data-height="20" data-show-faces="false" data-action="share"></span>
</span></p>


    <a name="comments" id="comments"></a><div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_title = 'Improving Security of Mock and Proxy Servers and Deprecating Old Subdomains';
      var disqus_url = 'https://blog.apiary.io/2014/09/16/Improving-Security';
      var disqus_identifier = '/2014/09/16/Improving-Security';
      var disqus_shortname = 'apiaryblog';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript><p>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></p></noscript>
    <p><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></p>


  </div>
</div>

<div id="fb-root"></div>

<script>
(function(doc, script) {
  var js,
      fjs = doc.getElementsByTagName(script)[0],
      frag = doc.createDocumentFragment(),
      add = function(url, id) {
          if (doc.getElementById(id)) {return;}
          js = doc.createElement(script);
          js.src = url;
          id && (js.id = id);
          frag.appendChild( js );
      };

    // Google+ button
    add('http://apis.google.com/js/plusone.js');
    // Facebook SDK
    add('//connect.facebook.net/en_US/all.js#xfbml=1', 'facebook-jssdk');
    // Twitter SDK
    add('//platform.twitter.com/widgets.js', 'twitter-wjs');

    fjs.parentNode.insertBefore(frag, fjs);
}(document, 'script'));
</script>

</div>

<!-- website-footer -->
  <hr>

<footer class="applicationFooter">

  <div class="applicationFooterRow">
    <div class="applicationFooterColumns">
    <div class="applicationFooterColumn">
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Platform</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiary.io/how-it-works">How It Works</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/products">Product</a></li>
        <li><a class="applicationFooterListLink" href="http://enterprise.apiary.io/">Enterprise</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/pricing">Pricing</a></li>
        <li><a class="applicationFooterListLink" href="https://help.apiary.io">Help</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Company</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://blog.apiary.io/">Blog</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#team">Team</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/jobs">Jobs</a></li>
        <li><a class="applicationFooterListLink" href="http://apiary.io/company#contact">Contact</a></li>
        <li><a class="applicationFooterListLink" href="https://apiary.a.ssl.fastly.net/assets/files/apiary-press-kit.zip">Press Kit</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Open Source</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="http://apiblueprint.org">API Blueprint</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/snowcrash">Snowcrash</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/gavel">Gavel</a></li>
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio/dredd">Dredd</a></li>
        <li><a class="applicationFooterListLink" href="http://client.apiary.io">Apiary CLI</a></li>
      </ul>
    </div><div class="applicationFooterColumn">
      <h3 class="applicationFooterTitle">Social</h3>
      <ul class="applicationFooterList">
        <li><a class="applicationFooterListLink" href="https://github.com/apiaryio">GitHub</a></li>
        <li><a class="applicationFooterListLink" href="https://twitter.com/apiaryio">Twitter</a></li>
        <li><a class="applicationFooterListLink" href="https://facebook.com/apiary.io">Facebook</a></li>
        <li><a class="applicationFooterListLink" href="http://dribbble.com/apiary">Dribbble</a></li>
      </ul>
    </div></div>
  </div>

  <div class="applicationFooterRow">
    <p class="applicationFooterCopyright">&copy; Apiary Ltd. All rights reserved. <span class="applicationFooterCopyrightLinks">• <a href="http://apiary.io/tos" class="applicationFooterCopyrightLink">Terms</a> • <a href="https://www.iubenda.com/privacy-policy/323220" class="applicationFooterCopyrightLink">Privacy</a></span></p>
  </div>
</footer>
<!-- /website-footer -->

<script src="https://apiary.a.ssl.fastly.net/assets/js/website-scroll.js"></script>
<script>
  websiteScroll();
  document.documentElement.className += ' js';
</script>

</body>
</html>
